{"ast":null,"code":"var _jsxFileName = \"/home/uchihaitachi/Desktop/project/navadipti/navadipti-teacher/frontend/src/Components/teacher/Homework/homework.js\";\nimport React, { Fragment } from 'react';\nimport Navbar from '../../navbar';\nimport Axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass homework extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.notifyA = text => toast.success(text, {\n      containerId: 'A'\n    });\n\n    this.notifyB = text => toast.error(text, {\n      containerId: 'B'\n    });\n\n    this.state = {\n      minDate: ''\n    };\n    this.getDate = this.getDate.bind(this);\n    this.addHomework = this.addHomework.bind(this);\n  }\n\n  componentDidMount() {\n    this.getDate();\n  }\n\n  getDate() {\n    const tempDate = new Date();\n    let month;\n\n    if (tempDate.getMonth() + 1 > '9') {\n      month = tempDate.getMonth() + 1;\n    } else {\n      let n = tempDate.getMonth() + 1;\n      month = '0' + n;\n    }\n\n    const minDate = tempDate.getFullYear() + '-' + month + '-' + tempDate.getDate();\n    console.log(minDate);\n    this.setState({\n      minDate: minDate\n    });\n  }\n\n  addHomework() {\n    const hclass = document.getElementById('hclass').value;\n    const hsubject = document.getElementById('hsubject').value;\n    const hdate = document.getElementById('hdate').value;\n    const hdetails = document.getElementById('hdetails').value;\n    let himg = document.getElementById('himg').files[0];\n\n    if (hclass === 'Nursery' || hclass === 'KG') {\n      if (hsubject !== 'English' && hsubject !== 'Bengali' && hsubject !== 'Mathematics' && hsubject !== 'GK') {\n        console.log('Error');\n        return;\n      }\n    }\n\n    if (hclass === 'Transition') {\n      if (hsubject !== 'English' && hsubject !== 'Bengali' && hsubject !== 'Mathematics' && hsubject !== 'GK') {\n        console.log('Error');\n        return;\n      }\n    }\n\n    if (hclass === '1') {\n      if (hsubject !== 'English' && hsubject !== 'Bengali' && hsubject !== 'Mathematics' && hsubject !== 'GK' && hsubject !== 'EVS' && hsubject !== 'Computer') {\n        console.log('Error');\n        return;\n      }\n    }\n\n    if (hclass === '2' || hclass === '3') {\n      if (hsubject === 'EVS') {\n        console.log('Error');\n        return;\n      }\n    }\n\n    if (!himg) {\n      himg = '';\n    }\n\n    if (hclass && hsubject && hdate && himg || hclass && hsubject && hdate && hdetails || hclass && hsubject && hdate && hdetails && himg) {\n      const reader = new FileReader();\n      reader.readAsDataURL(himg);\n\n      reader.onloadend = () => {\n        himg = reader.result;\n        const homework = {\n          class: hclass,\n          subject: hsubject,\n          date: hdate,\n          img: himg\n        };\n        console.log('Homework', homework);\n        Axios.post(\"/homework/add\", {\n          data: homework\n        }).then(res => {\n          console.log(res.data.message);\n          document.getElementById('hreset').click();\n          this.notifyA('Success');\n        }, err => {\n          console.log('Error');\n          this.notifyB('Error');\n        });\n      };\n    } else {\n      console.log('Error');\n      this.notifyB('Error');\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      token: \"homework\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(ToastContainer, {\n      enableMultiContainer: true,\n      containerId: 'A',\n      position: toast.POSITION.TOP_CENTER,\n      autoClose: 2000,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(ToastContainer, {\n      enableMultiContainer: true,\n      containerId: 'B',\n      position: toast.POSITION.TOP_CENTER,\n      autoClose: 2000,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron m-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }, \"Add Homework:\")), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"mx-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }\n    }, \"Class:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 42\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"hclass\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Nursery\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    }, \"Nursery\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"KG\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, \"KG\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Transition\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 25\n      }\n    }, \"Transition\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }\n    }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    }, \"4\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 30\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }, \"Subject:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 44\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"hsubject\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"English\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    }, \"English\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Bengali\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 25\n      }\n    }, \"Bengali\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Mathematics\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }\n    }, \"Mathematics\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"GK\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, \"GK\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"EVS\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 25\n      }\n    }, \"EVS\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"History\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 25\n      }\n    }, \"History\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Geography\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }\n    }, \"Geography\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Science\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    }, \"Science\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Computer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }, \"Computer\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 30\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, \"To be checked on:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 53\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      id: \"hdate\",\n      min: this.state.minDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 77\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }, \"Homework details:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 53\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"hdetails\",\n      cols: \"15\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 56\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    }, \"Homework image:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 51\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      id: \"himg\",\n      name: \"himg\",\n      accept: \"image/*\",\n      style: {\n        width: \"80%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 103\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-dark m-2\",\n      onClick: this.addHomework,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }, \"Add\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"reset\",\n      className: \"btn btn-dark m-2\",\n      id: \"hreset\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 25\n      }\n    }, \"Reset\"))));\n  }\n\n}\n\nexport default homework;","map":{"version":3,"sources":["/home/uchihaitachi/Desktop/project/navadipti/navadipti-teacher/frontend/src/Components/teacher/Homework/homework.js"],"names":["React","Fragment","Navbar","Axios","ToastContainer","toast","homework","Component","constructor","props","notifyA","text","success","containerId","notifyB","error","state","minDate","getDate","bind","addHomework","componentDidMount","tempDate","Date","month","getMonth","n","getFullYear","console","log","setState","hclass","document","getElementById","value","hsubject","hdate","hdetails","himg","files","reader","FileReader","readAsDataURL","onloadend","result","class","subject","date","img","post","data","then","res","message","click","err","render","POSITION","TOP_CENTER","width"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react';\nimport Navbar from '../../navbar';\nimport Axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass homework extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            minDate: ''\n        };\n        this.getDate = this.getDate.bind(this);\n        this.addHomework = this.addHomework.bind(this);\n    }\n\n    componentDidMount() {\n        this.getDate();\n    }\n\n    getDate() {\n        const tempDate = new Date();\n        let month;\n        if((tempDate.getMonth()+1) > '9') {\n            month = tempDate.getMonth()+1;\n        } else {\n            let n = tempDate.getMonth()+1;\n            month = '0' + n;\n        }\n        const minDate = tempDate.getFullYear() + '-' + month + '-' + tempDate.getDate();\n        console.log(minDate);\n        this.setState({\n            minDate: minDate\n        });\n    }\n\n    addHomework() {\n        const hclass = document.getElementById('hclass').value;\n        const hsubject = document.getElementById('hsubject').value;\n        const hdate = document.getElementById('hdate').value;\n        const hdetails = document.getElementById('hdetails').value;\n        let himg = document.getElementById('himg').files[0];\n        if(hclass === 'Nursery' || hclass === 'KG') {\n            if(hsubject !== 'English' && hsubject !== 'Bengali' && hsubject !== 'Mathematics' && hsubject !== 'GK'){\n                console.log('Error');\n                return;\n            }\n        }\n        if(hclass === 'Transition') {\n            if(hsubject !== 'English' && hsubject !== 'Bengali' && hsubject !== 'Mathematics' && hsubject !== 'GK'){\n                console.log('Error');\n                return;\n            }\n        }\n        if(hclass === '1') {\n            if(hsubject !== 'English' && hsubject !== 'Bengali' && hsubject !== 'Mathematics' && hsubject !== 'GK' && hsubject !== 'EVS' && hsubject !== 'Computer'){\n                console.log('Error');\n                return;\n            }\n        }\n        if(hclass === '2' || hclass === '3') {\n            if(hsubject === 'EVS'){\n                console.log('Error');\n                return;\n            }\n        }\n        if(!himg) {\n            himg = '';\n        }\n        if ((hclass && hsubject && hdate && himg) || (hclass && hsubject && hdate && hdetails) || (hclass && hsubject && hdate && hdetails && himg)) {\n            const reader = new FileReader();\n            reader.readAsDataURL(himg);\n            reader.onloadend = () => {\n                himg = reader.result;\n                const homework = {class: hclass, subject: hsubject, date: hdate, img: himg};\n                console.log('Homework', homework);\n                Axios.post(\"/homework/add\", {data: homework})\n                    .then(res => {\n                        console.log(res.data.message);\n                        document.getElementById('hreset').click();\n                        this.notifyA('Success');\n                    },\n                    err => {\n                        console.log('Error');\n                        this.notifyB('Error');\n                    })\n            }\n        }else {\n            console.log('Error');\n            this.notifyB('Error');\n        }\n    }\n\n    notifyA = (text) => toast.success(text, {containerId: 'A'});\n    notifyB = (text) => toast.error(text, {containerId: 'B'});\n\n    render() {\n        return(\n            <Fragment>\n                <Navbar token='homework'/>\n                <ToastContainer enableMultiContainer containerId={'A'} position={toast.POSITION.TOP_CENTER} autoClose={2000}/>\n                <ToastContainer enableMultiContainer containerId={'B'} position={toast.POSITION.TOP_CENTER} autoClose={2000}/>\n                <div className=\"jumbotron m-1\">\n                    <h5>Add Homework:</h5>\n                </div>\n                <form className=\"mx-3\">\n                    <label>Class:</label><br/>\n                    <select id=\"hclass\">\n                        <option value=\"Nursery\">Nursery</option>\n                        <option value=\"KG\">KG</option>\n                        <option value=\"Transition\">Transition</option>\n                        <option value=\"1\">1</option>\n                        <option value=\"2\">2</option>\n                        <option value=\"3\">3</option>\n                        <option value=\"4\">4</option>\n                    </select><br/>\n                    <label>Subject:</label><br/>\n                    <select id=\"hsubject\">\n                        <option value=\"English\">English</option>\n                        <option value=\"Bengali\">Bengali</option>\n                        <option value=\"Mathematics\">Mathematics</option>\n                        <option value=\"GK\">GK</option>\n                        <option value=\"EVS\">EVS</option>\n                        <option value=\"History\">History</option>\n                        <option value=\"Geography\">Geography</option>\n                        <option value=\"Science\">Science</option>\n                        <option value=\"Computer\">Computer</option>\n                    </select><br/>\n                    <label>To be checked on:</label><br/>\n                    <input type=\"date\" id=\"hdate\" min={this.state.minDate}/><br/>\n                    <label>Homework details:</label><br/>\n                    <textarea id=\"hdetails\" cols=\"15\"/><br/>\n                    <label>Homework image:</label><br/>\n                    <input type=\"file\" id=\"himg\" name=\"himg\" accept=\"image/*\" style={{width: \"80%\"}}/><br/>\n                    <div className=\"d-flex justify-content-center\">\n                        <button type=\"button\" className=\"btn btn-dark m-2\" onClick={this.addHomework}>Add</button>\n                        <button type=\"reset\" className=\"btn btn-dark m-2\" id=\"hreset\">Reset</button>\n                    </div>\n                </form>\n            </Fragment>\n        );\n    }\n}\n\nexport default homework;"]},"metadata":{},"sourceType":"module"}